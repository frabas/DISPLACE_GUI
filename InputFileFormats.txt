==============================
Formats of DISPLACE input files
===============================

for DISPLACE v0.9.0

list of files based on testexample
generated by the DISPLACE Objects Editor R routines
(except for the \graphspe files 
that are generated by the DISPLACE Graph editor)

===================
/graphsspe
===================

/graphsspe/coord*.dat

purpose: Graph coordinates in decimal longlat
fields: No field i.e. everything in one column (but assuming 3 field implicitely)
separators: No
headings: No

This text files contains the coordinates of all nodes in the dataset.
The dataset size is specified in config.dat file (see) as the number of nodes.
The data is arranged this way:

- nrow lines containing a float representing the longitude (X) of nodes
- nrow lines containing a float representing the latitude (Y) of nodes
- nrow lines containing an integer value representing the harbour field of the node

So information for the i-th node can be located at line i, i+nrow and i+2*nrow

/graphsspe/graph*.dat

purpose: Connection between graph nodes (ids)
fields: No field i.e. everything in one colum (but assuming 3 field implicitely)
separators: No
headings: No

This text files contains the connection information of the graph.
The dataset size is specified in config.dat file (see) as the number of edges (nrow_graph)
The data is arranged this way:

- nrow lines containing an integer representing the starting node of an edge
- nrow lines containing an integer representing the arrival node of an edge
- nrow lines containing a float representing the weight/cost of an edge. The simulator will read it as integer, rounded.

So information for the i-th edge can be located at line i, i+nrow and i+2*nrow

/graphsspe/code_area_for_graph*_points.dat

purpose: coordinates and code 0 (in area) or 10 (outside area of interest, then fixed catch rates)
fields: No field i.e. everything in one column (but assuming 3 field implicitely)
separators:
headings:

- nrow lines containing an integer that are ignored by the simulator
- nrow lines containing an integer that are ignored by the simulator
- nrow lines containing an integer that represent the code area


/graphsspe/coord*_with_landscape.dat

purpose: associating a landscape code from the Benthos habitat layer
fields: One field
separators: No
headings: No

nrow lines containing the landscape code.

/graphsspe/metier_closure_a_graph*_quarter*.dat

purpose: decide of the banned metiers on nodes
fields: poly id/node id/ metier id(s)  - BUT THIS FILE CAN BE LEFT EMPTY
separators: ' '
headings: No



===================
/popsspe_*
===================

/popsspe_*/*ctrysspe_relative_stability_semester*.dat

purpose: Fo each stock and per semester this gives the share of the quota per country in percent - sum to 100 
fields: the country 3-letters / percent in integer
separators: ' '
headings: ctry percent

/popsspe_*/*spe_fbar_amin_amax_ftarget_Fpercent_TACpercent.dat

purpose:
fields: 
separators:
headings:

/popsspe_*/*overall_migration_fluxes_semester*_biolsce*.dat

purpose: Semester-based proportion for each size group of the overall stock numbers going from the subpop to an arrival subpop - applied per quarter.
fields: arrival stock id / proportion - BUT THIS FILE CAN BE LEFT EMPTY if no migration
separators: ' '
headings: # to_pop_num overall_fluxes_of_N_in_proportion_per_size_group


/popsspe_*/*spe_initial_tac.dat

purpose: Gives the first tac in tons for this stock
fields: just one number i.e. No field
separators: No
headings: No

/popsspe_*/*spe_percent_age_per_szgroup_biolsce*.dat

purpose: matrix of proportion with 11 ages in column and 14 szgroups in rows used to convert M, W and Mat at size group into age classes
fields: 11 ages in col, 14 szgroups in rows - sum to 1 per row
separators: ' '
headings: No 

/popsspe_*/*spe_percent_szgroup_per_age_biolsce*.dat

purpose: matrix of proportion with 11 ages in column and 14 szgroups in rows used to convert N at size group into N at age
fields: 11 ages in col, 14 szgroups in rows - sum to 1 per column
separators: ' '
headings: No

/popsspe_*/*spe_size_transition_matrix_biolsce*.dat

purpose: matrix for the growth transition of N from a size group to the next - (caution: numbers would required a re-estimation if baseline.dat growth config is changed)
fields: 14 cols / 14 rows
separators: ' '
headings: No

/popsspe_*/*spe_SSB_R_parameters_biolsce*.dat

purpose: SSB-recruitment relationship for Ricker
fields: No - one column with two numbers for alpha and beta
separators: No 
headings: No


/popsspe_*/*spe_stecf_oth_land_per_month_per_node_semester*.dat

purpose: For this stock, removals of fish in kg on each node from other than the simulated vessels - applied per month
fields: Node id / removals in kg
separators: ' '
headings: pt_graph landings


/popsspe_*/comcat_per_szgroup_done_by_hand.dat

purpose: give the commercial category for the corresponding size group id 
fields: stock id / size group id
separators: ' '
headings: stock comcat_per_szgroup


/popsspe_*/hyperstability_param.dat

purpose: gives the hyperstability parameter used in the catch equation for each stock
fields: stock id / value
separators: ' '
headings: pop hyperstability_param


/popsspe_*/init_fecundity_per_szgroup_biolsce*.dat

purpose: egg numbers production per sizegroup per stock - DEPRECATED
fields: stock id / value
separators: ' '
headings: stock  init_fecundity_per_szgroup


/popsspe_*/init_M_per_szgroup_biolsce*.dat

purpose: gives natural mortality M per sizegroup per stock
fields: stock id / value
separators: ' '
headings: stock  init_M_per_szgroup


/popsspe_*/init_maturity_per_szgroup_biolsce*.dat

purpose: gives maturity Mat per sizegroup per stock
fields: stock id / value
separators: ' '
headings: stock  init_maturity_per_szgroup


/popsspe_*/init_pops_per_szgroup_biolsce*.dat

purpose: gives Numbers of individual in thousand per sizegroup per stock
fields: stock id / value
separators: ' '
headings: stock  init_pops_per_szgroup


/popsspe_*/init_prop_migrants_pops_per_szgroup_biolsce*.dat

purpose: gives proprtion of migrants per szgroup per stock - DEPRECATED 
fields: stock id / value
separators: ' '
headings: stock  init_prop_migrants_pops_per_szgroup


/popsspe_*/init_proprecru_per_szgroup_biolsce*.dat

purpose: gives proprtion of recruits per sizgroup per stock - DEPRECATED 
fields: stock id / value
separators: ' '
headings: stock  init_proprecru_per_szgroup


/popsspe_*/init_weight_per_szgroup_biolsce*.dat

purpose: gives mean weight in kg per size group per stock 
fields: stock id / value
separators: ' '
headings: stock  init_weight_per_szgroup



/popsspe_*/percent_landings_from_simulated_vessels.dat

purpose: Percentage of the total catches expected to be made by the simulated vessels
fields: stock id / value - not per size group
separators: ' '
headings: stock percent



/popsspe_*/species_interactions_mortality_proportion_matrix_biolsce*.dat

purpose: matrix of contribution to the mortality to decompose the natural mortality into species contribution (diag=1 if no interaction)
fields: ncol = nrow = nb of stocks
separators: ' '
headings: No


/popsspe_*/the_selected_szgroups.dat

purpose: listing the subsets of the szgroups per stock that count in the catch equation 
fields: stock id / size group
separators: ' '
headings: nm2 selected_szgroups


/popsspe_*/avai_betas_semester*.dat

purpose: Catch equation parameters (delta) for reflecting the population effect in the catch rates
fields: stock id / value
separators: ' '
headings: pop delta.nb_indiv




===================
/vesselsspe_*/
===================


/vesselsspe_*/*_cpue_per_stk_on_nodes_quarter*.dat

purpose: gives the fixed catch rates per stock on nodes specific to this vessel over this quarter - DEPRECATED
fields: node id / value - implicit 3rd dim: stock
separators: ' '
headings: pt_graph cpue_kghour


/vesselsspe_*/*_possible_metiers_quarter*.dat

purpose: Gives the possible metiers on the fishing ground nodes specific to this vessel during this quarter
fields: node id / metier id
separators: ' '
headings: pt_graph met


/vesselsspe_*/*_freq_possible_metiers_quarter*.dat

purpose: for this vessel, gives the frequency of choosing a given metier given the location during this quarter
fields: Node id / value - implicit 3rd dim: metier
separators:
headings:pt_graph freq


/vesselsspe_*/*_gscale_cpue_per_stk_on_nodes_quarter*.dat

purpose: gives the gscale Gamma parameter for the fixed catch rates per stock on nodes specific to this vessel over this quarter - used for implicit stocks or if area=10
fields: node id / value - implicit 3rd dim: stock
separators: ' '
headings: pt_graph scale

/vesselsspe_*/*_gshape_cpue_per_stk_on_nodes_quarter*.dat

purpose: gives the gshape Gamma parameter for the fixed catch rates per stock on nodes specific to this vessel over this quarter- used for implicit stocks or if area=10
fields: node id /value - implicit 3rd dim: stock
separators: ' '
headings: pt_graph shape


/vesselsspe_*/vesselsspe_*/fuel_price_per_vessel_size.dat

purpose: gives a fuel price per vessel categories - (hardcoded 0 to 4 categories so far)
fields: cat 0,1,2,3,4 / value
separators: ' '
headings: vsize fuelprice_euro



/vesselsspe_*/initial_fishing_credits_per_vid.dat

purpose: give the initial allocation of fishing credit following the RTI framework (WIP)
fields: vessel id (string) / value
separators: ' '
headings: VE_REF annual_fishing_credits_per_vid



/vesselsspe_*/vesselsspe_betas_semester*.dat

purpose: Catch equation parameters (betas) for reflecting the vessel effect in the catch rates
fields: vessel id (string) / value
separators: ' '
headings: VE_REF beta.VE_REF


/vesselsspe_*/vesselsspe_features_quarter*.dat

purpose: Gathering all the vessel specifications 
fields: DNK000001391|10|34.18397|15|128|23170|7565|10|0.4485|336.7618|20|1|0|1.1|0.15|5|6|5|22
separators: "|"
headings: No


/vesselsspe_*/vesselsspe_fgrounds_quarter*.dat

purpose: listing the vessel-specific nodes visited for fishing
fields: vessel id (string) / node id
separators: ' '
headings: vids pt_graph


/vesselsspe_*/vesselsspe_freq_fgrounds_quarter*.dat

purpose: listing the frequencies of visits on the vessel-specific nodes visited for fishing
fields: vessel id (string) / value
separators: ' '
headings: vids freq


/vesselsspe_*/vesselsspe_harbours_quarter*.dat

purpose: listing the vessel-specific nodes visited for landing the retained catches
fields: vessel id (string) / node id
separators: ' '
headings: vids pt_graph


/vesselsspe_*/vesselsspe_freq_harbours_quarter*.dat

purpose: listing the frequencies of visits on the vessel-specific nodes visited for landing the retained catches
fields: vessel id (string) / value
separators: ' '
headings: vids freq


/vesselsspe_percent_tacs_per_pop_semester*.dat

purpose: Gives percentage for individual vessel share of the overall TAC used in the individual quotas computation
fields:  vessel id (string) / value 
separators: ' '
headings: V1 V2



===================
/metiersspe_*/
===================

/metiersspe_*/*loss_after_one_passage_per_landscape_per_func_group.dat

purpose: Proportion of the benthos killed by one passage on this habitat
fields: landscape (habitat) id / value (double) - implicit 3rd dim: nb benthos group
separators: ' '
headings: landscape loss_after_one_passage


/metiersspe_*/*metier_selectivity_per_stock_ogives.dat

purpose: for this metier, give the gear selectivity at size group for each stock
fields: ncol= n size groups, nrow = n stock
separators: ' '
headings: No


/metiersspe_*/combined_met_types.dat

purpose: Coding the type of metier in Trawling:1, otherwise 0 - used for fuel consumption during fishing events
fields: metier id / value
separators: ' '
headings: LE_MET_level6 model_type


/metiersspe_*/met_target_names.dat

purpose: Gives the target stocks of the metier to be used to know which fish prices to look at 
fields: metier id / stock id
separators: ' '
headings: LE_MET_level6 mapped_stk_code


/metiersspe_*/metier_fspeed.dat

purpose: Gives the fishing speed in knots for the fishing events
fields: metier id / value (double)
separators: ' '
headings: LE_MET_level6 fspeed


/metiersspe_*/metier_gear_widths_model_type.dat

purpose: Gives the formula for the gear width computation specific to this metier
fields: metier id / string
separators: ' '
headings: LE_MET_level6 model_type


/metiersspe_*/metier_gear_widths_param_a.dat

purpose: Gives the parameter a for the gear width computation specific to this metier
fields: metier id / value (double)
separators: ' '
headings: LE_MET_level6 param_a


/metiersspe_*/metier_gear_widths_param_b.dat

purpose: Gives the parameter b for the gear width computation specific to this metier
fields: metier id / value (double) 
separators: ' '
headings: LE_MET_level6 param_b


/metiersspe_*/metier_names.dat

purpose: Inform on the metier names
fields: metier id / name (string)
separators: ' '
headings: idx name


/metiersspe_*/metierspe_betas_semester*.dat

purpose: Catch equation parameters (gamma) for reflecting the metiereffect in the catch rates (TO DO: rename the file)
fields: metier id / value (double)
separators:
headings: LE_MET_level6 gamma.LE_MET_level6


/metiersspe_*/metierspe_mls_cat_semester*.dat

purpose: Give the minimum landings size per stock for the metiers
fields: metier id / value (integer) - 3rd implicit dim: stock
separators: ' '
headings: LE_MET_level6 mls


/metiersspe_*/percent_revenue_completenesses.dat

purpose: gives percentages represented by the catches when landing at port - used to raise the vessel revenue for missing stocks. 
fields: metier id / value 
separators: ' '
headings: LE_MET_level6 completeness



===================
/harboursspe_*/
===================

/harboursspe_*/*_quarter*_each_species_per_cat.dat

purpose: Gives the stock prices in euro per commercial category (given by \popsspe\comcat_per_szgroup_done_by_hand.dat)
fields: stock id / value 
separators: ' '
headings: stock price_per_cat


/harboursspe_*/names_harbours.dat

purpose:
fields: node id / name (string)
separators: ' '
headings: node name



===================
/benthosspe_*/
===================


/benthosspe_*/estimates_biomass_per_cell_per_funcgr_per_landscape.dat

purpose: Give a piece of the habitat specific total biomass on each node 
fields: landscape (habitat) code / biomass (free unit)
separators: ' '
headings: landscape biomass_per_node


===================
/shipsspe_*/
===================

/shipsspe_*/shipsspe_features.dat

purpose:  Gathering all the commercial ships specifications
fields: SHIP1|1000000|2006|Greece|Tanker|1|250|30000|45|60000|0|200|9|0.1|0.2|0|20|10|1
separators: '|' 
headings: No


/shipsspe_*/shipsspe_lanes_lat.dat

purpose: lat coordinates of the shipping lanes
fields: ship lane id / value (double)
separators: ' '
headings: ship_lane_number lat_dec


/shipsspe_*/shipsspe_lanes_lon.dat

purpose: lon coordinates of the shipping lanes
fields: ship lane id / value (double) 
separators: ' '
headings: ship_lane_number lon_dec



===================
/fishfarmsspe_*/
===================

/fishfarmsspe_*/size_per_farm.dat

purpose: size per farm specifications (WIP)
fields: node id / value (double)
separators: ' '
headings: idx_node size_km2



===================
/simusspe_*/
===================

/simusspe_*/baseline.dat

purpose: describing the high level parameters for a scenario
fields: parsing # for comments
separators: No
headings: No

/simusspe_*/config.dat

purpose: Describing parameters for enable/unable implicit populations and/or calibration features
fields: parsing # for comments
separators: No
headings: No

/simusspe_*/tstep_days_2009_2015.dat

purpose: To build a calendar class and ease the time event discretisation
fields:one column with tsteps - -1 as sentinel value
separators: No
headings: No

/simusspe_*/tstep_months_2009_2015.dat

purpose: To build a calendar class and ease the time event discretisation
fields: one column with tsteps - -1 as sentinel value
separators: No
headings: No

/simusspe_*/tstep_quarters_2009_2015.dat

purpose:To build a calendar class and ease the time event discretisation
fields: one column with tsteps - -1 as sentinel value
separators: No
headings: No

/simusspe_*/tstep_semesters_2009_2015.dat

purpose: To build a calendar class and ease the time event discretisation
fields: one column with tsteps - -1 as sentinel value
separators: No
headings: No

/simusspe_*/tstep_years_2009_2015.dat

purpose: To build a calendar class and ease the time event discretisation
fields: one column with tsteps - -1 as sentinel value
separators:
headings:



===================
/timeseries/
===================


/timeseries/ts.txt

purpose: empty file for the testexample
fields: 
separators:
headings:


===================
/externalforcing_*/
===================

/timeseries/empty.txt

purpose: empty file for the testexample
fields: 
separators:
headings:



===================
/dtrees/
===================

/dtrees/GoFishing_Example.dt


purpose: Example of file to input the dtree editor
fields: 
separators:
headings:


===================
/shortPaths_*_a_graph*/
===================

/shortPaths_*_a_graph*/previous_*.bin

purpose: Files for offline path finding algo
fields: 
separators:
headings:

/shortPaths_*_a_graph*/min_distance_*.bin

purpose: Files for offline path finding algo
fields: 
separators:
headings:





























